<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset = "UTF-8">
        <meta name = "viewport" content = "width=device-width, initial-scale=1.0">
        <title>main</title>
        <link rel = "icon" href = "./img/dimigoLogo.png">
        <script type = "text/javascript" src = "https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <link rel = "stylesheet" href = "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity = "sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin = "anonymous">
        <link href = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel = "stylesheet" integrity = "sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin = "anonymous">
        <script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity = "sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin = "anonymous"></script>
        <script src = "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity = "sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin = "anonymous"></script>
        <script src = "https://kit.fontawesome.com/06fb83cb17.js" crossorigin = "anonymous"></script>
        <link rel = "preconnect" href = "https://fonts.googleapis.com"> 
        <link rel = "preconnect" href = "https://fonts.gstatic.com" crossorigin> 
        <link href = "https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@700&display=swap" rel = "stylesheet">
        <link rel = "stylesheet" href = "https://potato179.github.io/style/potato-min.css">
    </head>
    <body>
        <header class = "border-bottom" style = "padding: 0.5em;">
            <div class = "container">
                <div class = "d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                    <a class = "navbar-brand" href = "#"><img src = "./public/img/symbol.png" style = "width: 3em;"></a>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <ul class = "nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                        <form class = "col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role = "search" style = "background: #F1F1F1; box-shadow: inset 3px 3px 4px rgba(0, 0, 0, 0.15); border-radius: 38.5px;">
                            <input type = "search" style = "background: transparent; border: none; width: 40em; height: 2.5em; margin-left: 1em; color: #666666;" placeholder = "무더운 여름을 시원하게 보낼 수 있는 선풍기..." aria-label = "Search">
                            <button style = "background-color: transparent; border: none;"><img src = "./public/img/img_search.png" style = "margin-right: 10px; width: 1.25em;"></button>
                        </form>
                    </ul>
            
                    <!--
                    <div class = "dropdown text-end">
                        <a href = "#" class = "d-block link-dark text-decoration-none dropdown-toggle" data-bs-toggle = "dropdown" aria-expanded = "false">
                            <img src = "https://github.com/mdo.png" alt = "mdo" class = "rounded-circle" width = "32" height = "32">
                        </a>
                        <ul class = "dropdown-menu text-small">
                            <li><a class = "dropdown-item" href = "#"><i class = "fas fa-user"></i> 내 프로필 </a></li>
                            <li><a class = "dropdown-item" href = "#"><i class = "fas fa-comment"></i> 채팅</a></li>
                            <li><a class = "dropdown-item" href = "#"><i class = "fas fa-parking"></i> 내 프로젝트</a></li>
                            <li><a class = "dropdown-item" href = "#"><i class = "fas fa-archive"></i> 보관함</a></li>
                            <li><a class = "dropdown-item" href = "#"><i class = "fas fa-cog"></i> 설정</a></li>
                            <li><hr class = "dropdown-divider"></li>
                            <li><a class = "dropdown-item" href = "#">로그아웃</a></li>
                        </ul>
                    </div>&nbsp;&nbsp;&nbsp;&nbsp;
                -->
                    <button type = "button" class = "btn me-2" style = "color: #4FAF5A; border-color: #4FAF5A;">로그인/회원가입</button>
                    <div class = "text-end">
                        <button type = "button" class = "btn me-2" style = "color: #4FAF5A; border-color: #4FAF5A;">프로젝트 올리기</button>
                    </div>
                </div>
            </div>
        </header>
        <header class="py-3 mb-4 border-bottom" style = "box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.1);">
            <div class = "container center" style = "margin-top: 0;">
                <a href = "#" class = "nav-link bold" style = "float: left; width: 20%; height: 100%; color: #4FAF5A;">홈</a>
                <a href = "#" class = "nav-link black" style = "float: left; width: 20%;">아이디어</a>
                <a href = "#" class = "nav-link black" style = "float: left; width: 20%;">펀딩</a>
                <a href = "#" class = "nav-link black" style = "float: left; width: 20%;">투자</a>
                <a href = "#" class = "nav-link black" style = "float: left; width: 20%;">공지사항</a><br> 
            </div>
        </header>
        <br><br><br>

        <form style = "text-align: center;" class = "form-signin">
            <h2 class = "h3 mb-3 font-weight-normal">로그인을 하세요</h2>
                <input id = "email" type = "email" placeholder = "이메일" required></input>
                <input id = "pw" type = "password" placeholder = "비밀번호" required></input>
            <button type = "button" onclick = "signin();">로그인</button>
            <a href = "./join.html">회원가입</a>
            <a href = "./index.html">취소</a>
        </form>
        <script>
            function signin(){
                var email = $('#email').val();
                var pw = $('#pw').val();
                var sendData =  {email: email, pw: pw};

                var ajaxData = { 
                    type: "GET", 
                    url : "login",
                    data: sendData, 
                    dataType: "json", 
                    success :  onSuccess,
                    error: onError
                };
                $.ajax(ajaxData);
            }

            function onSuccess (data, status, xhr) { 
                if(data.condition == "success"){
                    alert(data.message);        
                    window.location.href = "index.html"
                }
                else if(data.condition == "fail"){
                    alert(data.message);
                }
            }

            function onError (jqXHR, textStatus, errorThrown) { 
                console.log(jqXHR.responseText); 
            }
        </script>
    </body>
</html>